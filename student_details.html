<!DOCTYPE html>
<html lang="en-US" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>TheWorldGrad | Student Management Portal</title>
  <!-- Favicon -->
  <link rel="icon" type="image/png" href="./assets/img/favicon.png">
  <meta name="theme-color" content="#ffffff">
  <script src="./assets/js/config.js"></script>
  <script src="./vendors/simplebar/simplebar.min.js"></script>
  <!-- Stylesheets-->
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,500,600,700%7cPoppins:300,400,500,600,700,800,900&amp;display=swap" rel="stylesheet">
  <link href="./vendors/simplebar/simplebar.min.css" rel="stylesheet">
  <link href="vendors/flatpickr/flatpickr.min.css" rel="stylesheet" />
  <link href="./assets/css/theme.min.css" rel="stylesheet">
  <link href="./assets/css/user.css" rel="stylesheet">
</head>

<body>
  <main class="main" id="top">
    <div class="container" data-layout="container">
      <script>
        var isFluid = JSON.parse(localStorage.getItem('isFluid'));
        if (isFluid) {
          var container = document.querySelector('[data-layout]');
          container.classList.remove('container');
          container.classList.add('container-fluid');
        }
      </script>

      <nav class="navbar navbar-light navbar-vertical navbar-expand-xl">
        <script>
          var navbarStyle = localStorage.getItem("navbarStyle");
          if (navbarStyle && navbarStyle !== 'transparent') {
            document.querySelector('.navbar-vertical').classList.add(`navbar-${navbarStyle}`);
          }
        </script>
        <div class="d-flex align-items-center">
          <div class="toggle-icon-wrapper">

            <button class="btn navbar-toggler-humburger-icon navbar-vertical-toggle" data-bs-toggle="tooltip" data-bs-placement="left" title="Toggle Navigation"><span class="navbar-toggle-icon"><span class="toggle-line"></span></span></button>

          </div><a class="navbar-brand" href="index.html">
            <div class="d-flex align-items-center py-3"><img class="me-2" src="assets/img/logo.png" alt="" width="150" />
            </div>
          </a>
        </div>        
        <!-- Navbar -->
        <div id="navbarPlaceholder"></div>
        <!-- Navbar -->
      </nav>

      <div class="content">
        <!-- TopBar -->
        <div id="topbarPlaceholder"></div>
        <!-- TopBar -->     

        <!-- Basic Info -->
        <div class="card mb-3">
          <div class="card-header">
            <div class="row align-items-center">
              <div class="col">
                <h5 class="mb-0" id="name">Student Name</h5>
              </div>
              <div class="col-auto"><a class="btn btn-danger btn-sm" id="deleteStudent"><span class="fas fa-trash fs--2 me-1"></span>Delete Student</a></div>
              <div class="col-auto"><a class="btn btn-outline-warning btn-sm" id="flagPageLink">View Flags</a></div>
              <div class="col-auto" id="add-flag-btn"><a class="btn btn-outline-danger btn-sm" data-bs-toggle="modal" data-bs-target="#flag-student-modal"><span class="fas fa-pencil-alt fs--2 me-1"></span>Flag Student</a></div>
            </div>
          </div>
          <div class="card-body bg-light border-top">
            <div class="row">
              <div class="col-lg col-xxl-5">
                <div class="row">
                  <div class="col-6">
                    <h6 class="fw-semi-bold ls text-uppercase mt-2">Basic Information</h6>
                  </div>
                  <div class="col-6">
                    <a class="btn btn-falcon-default btn-sm mb-2" data-bs-toggle="modal" data-bs-target="#update-details-modal">
                      <span class="fas fa-pencil-alt fs--2 me-1"></span>Update details
                    </a>
                  </div>
                </div>
                <div class="row">
                  <div class="col-6">
                    <p class="fw-semi-bold mb-1">Student ID</p>
                  </div>
                  <div class="col" id="student_id">-</div>
                </div>
                <div class="row">
                  <div class="col-6">
                    <p class="fw-semi-bold mb-1">Commencing Term</p>
                  </div>
                  <div class="col" id="join_date">-</div>
                </div>
                <div class="row">
                  <div class="col-6">
                    <p class="fw-semi-bold mb-1">University Student ID</p>
                  </div>
                  <div class="col" id="university_id">-</div>
                </div>
                <div class="row">
                  <div class="col-6">
                    <p class="fw-semi-bold mb-1">Enrollment Status</p>
                  </div>
                  <div class="col" id="enrollment_status">-</div>
                </div>
                <div class="row">
                  <div class="col-6">
                    <p class="fw-semi-bold mb-1">Email</p>
                  </div>
                  <div class="col" id="student_email">-</div>
                </div>
                <div class="row">
                  <div class="col-6">
                    <p class="fw-semi-bold mb-1">Phone</p>
                  </div>
                  <div class="col" id="student_phone">-</div>
                </div>
                <div class="row">
                  <div class="col-6">
                    <p class="fw-semi-bold mb-1">Address</p>
                  </div>
                  <div class="col" id="student_address">-</div>
                </div>
                <div class="row">
                  <div class="col-6">
                    <p class="fw-semi-bold mb-1">City, State</p>
                  </div>
                  <div class="col" id="student_city_state">-</div>
                </div>
              </div>

              <div class="col-lg col-xxl-5 mt-4 mt-lg-0 offset-xxl-1">
                <div class="row">
                  <div class="col-6">
                    <h6 class="fw-semi-bold ls text-uppercase mt-2">Enrollment Information</h6>
                  </div>
                  <div class="col-6">
                    <a class="btn btn-falcon-default btn-sm mb-2" id="updateUniversityBtn" data-bs-toggle="modal" data-bs-target="#update-university-modal">
                      <span class="fas fa-pencil-alt fs--2 me-1"></span>Update details
                    </a>
                  </div>
                </div>
                <div class="row">
                  <div class="col-5 col-sm-4">
                    <p class="fw-semi-bold mb-1">University</p>
                  </div>
                  <div class="col" id="university">-</div>
                </div>
                <div class="row">
                  <div class="col-5 col-sm-4">
                    <p class="fw-semi-bold mb-1">Program</p>
                  </div>
                  <div class="col" id="program_type">-</div>
                </div>
                <div class="row">
                  <div class="col-5 col-sm-4">
                    <p class="fw-semi-bold mb-0">Degree</p>
                  </div>
                  <div class="col" id="degree">-</div>
                </div>                
                <div class="row">
                  <div class="col-5 col-sm-4">
                    <p class="fw-semi-bold mb-1">Source</p>
                  </div>
                  <div class="col" id="source">-</div>
                </div>
                <div class="row">
                  <div class="col-5 col-sm-4">
                    <p class="fw-semi-bold mb-0">Agent</p>
                  </div>
                  <div class="col" id="agent">-</div>
                  <div class="col-1">
                    <a class="mb-2" data-bs-toggle="modal"  id="updateAgentBtn" data-bs-target="#update-agent-modal">
                      <span class="fas fa-pencil-alt fs--2 me-1"></span>
                    </a>
                  </div>
                </div>
                <input type="text" id="studentUniversityId" hidden />
                <input type="text" id="studentProgramId" hidden />
                <input type="text" id="agentId" hidden />
                <input type="text" id="universityId" hidden />
              </div>
            </div>
          </div>
        </div>
        <!-- Basic Info -->

        <!-- Enrollment Details -->
        <div class="card mb-3">
          <div class="card-body bg-light border-top">
            <div class="row">
              <!-- Links -->
              <div class="col-lg-12 col-12 mb-3">
                <label class="form-label" for="twgOfferLink">Final signed TWG Offer Letter<span class="text-danger">*</span></label>
                <input class="form-control" id="twgOfferLink" name="twgOfferLink" type="url" placeholder="https://drive.google.com/" readonly />
              </div>  
              <div class="col-lg-12 col-12 mb-3">
                <label class="form-label" for="universityOfferLink">University Offer Letter<span class="text-danger">*</span></label>
                <input class="form-control" id="universityOfferLink" name="universityOfferLink" type="url" placeholder="https://drive.google.com/" readonly />
              </div>  
              <div class="col-lg-12 col-12 mb-3">
                <label class="form-label" for="gDriveLink">Google Drive Link<span class="text-danger">*</span></label>
                <input class="form-control" id="gDriveLink" name="gDriveLink" type="url" placeholder="https://drive.google.com/" readonly />
              </div>
            </div>
          </div>

          <div class="card-footer">
            <div class="d-flex flex-row flex-row-reverse">
              <a class="btn btn-falcon-default btn-sm" data-bs-toggle="modal" data-bs-target="#student-links-modal"><span class="fas fa-pencil-alt fs--2 me-1"></span>Update Links</a>
            </div>
          </div>
        </div>
        <!-- Enrollment Details -->    

        <!-- Student Journey -->
        <div class="accordion mb-3" id="accordionPanelsStayOpenExample">
          <!-- Study Plan -->
          <div class="accordion-item card mb-3">
            <h2 class="accordion-header">
              <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseOne" aria-expanded="true" aria-controls="panelsStayOpen-collapseOne">
                <h5>Study Stages</h5>
              </button>
            </h2>
            <div id="panelsStayOpen-collapseOne" class="accordion-collapse collapse show">
              <div class="accordion-body">
                <div class="table-responsive">
                  <table class="table table-sm table-bordered mt-3 bg-white dark__bg-1100">
                    <thead>
                      <tr class="fs--1">
                        <th>Study Stage</th>
                        <th class="text-center">Expected Start Date</th>
                        <th class="text-center">Status</th>
                        <th class="text-center">Notes</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody id="studyPlan">
                      <!-- Dynamically add study stages here -->
                    </tbody>
                  </table>
                </div>
                <div class="text-end">
                  <button class="btn btn-outline-primary btn-sm mt-2" type="button" id="addStudyPlan" data-bs-toggle="modal" data-bs-target="#studyPlanModal">
                    <span class="fas fa-plus fs--2 me-1" data-fa-transform="up-1"></span>More Study Stages 
                  </button>
                </div>                    
              </div>
            </div>
          </div>
          <!-- Study Plan Ends -->

          <!-- TWG Learning Plan -->
          <div class="accordion-item card mb-3">
            <h2 class="accordion-header">
              <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#panelsStayOpen-collapseTwo" aria-expanded="false" aria-controls="panelsStayOpen-collapseTwo">
                <h5>TWG Learning Plan</h5>
              </button>
            </h2>
            <div id="panelsStayOpen-collapseTwo" class="accordion-collapse collapse">
              <div class="accordion-body">
                <div class="my-3 d-flex align-items-center justify-content-between">
                  <h5></h5>
                  <span class="d-none badge py-2 text-success border border-success" id="modulesCheckSuccessBadge">Modules Check: True</span>
                  <span class="badge py-2 text-danger border border-danger" id="modulesCheckDangerBadge">Modules Check: False</span>
                </div>
                <form id="learningInfoForm">
                  <div class="row">
                    <div class="col-lg-6 col-12 mb-3">
                      <label class="form-label" for="totalFeePayable">Total Fee Payable</label>
                      <input class="form-control form-control-sm" id="topTotalFeePayable" name="totalFeePayable" type="number"/>
                    </div>
                    <div class="col-lg-6 col-12 mb-3">
                      <label class="form-label" for="totalFeePaid">Total Fee Paid</label>
                      <input class="form-control form-control-sm" id="topTotalFeePaid" name="totalFeePaid" type="number" readonly />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-6 col-12 mb-3">
                      <label class="form-label" for="topTotalModules">Total Modules</label>
                      <input class="form-control form-control-sm" id="topTotalModules" name="totalModules" type="number" />
                    </div>
                    <div class="col-lg-6 col-12 mb-3">
                      <label class="form-label text-truncate" for="topCreditsRemaining">Remaining Study Credits</label>
                      <input class="form-control form-control-sm" id="topCreditsRemaining" name="creditsRemaining" type="number" readonly />
                    </div>
                  </div>
                  <div class="row">
                    <div class="col-lg-6 col-12 mb-3">
                      <label class="form-label" for="overallGradeTWG">Overall Grade in TWG</label>
                      <input class="form-control form-control-sm" id="overallGradeTWG" name="overallGradeTWG" type="text" />
                    </div>
                    <div class="col-lg-6 col-12 mb-3 align-self-end">
                      <button type="submit" class="btn btn-primary btn-sm w-100">Update</button>
                    </div>
                  </div>
                </form>
                <div class="mb-3" id="learningPlan">
                  <!-- Dynamically add terms here -->
                </div>
                <button class="btn btn-outline-primary btn-sm mt-2" type="button" id="addTerm" data-bs-toggle="modal" data-bs-target="#twgTermModal">
                  <span class="fas fa-plus fs--2 me-1" data-fa-transform="up-1"></span>Add Term
                </button>                    
              </div>
            </div>
          </div>
          <!-- TWG Learning Plan Ends-->
        </div>
        <!-- Student Journey Ends -->
        
        <!-- TWG Fee Payments -->
        <div class="card mb-3">
          <div class="card-header">
            <h5 class="mb-0">TWG Fee Payments</h5>
          </div>
          <div class="card-body bg-light">

            <div class="row">
              <div class="col-lg-3 col-12 mb-3">
                <label class="form-label" for="totalFeePayable">Total Fee Payable<span class="text-danger">*</span></label>
                <input class="form-control form-control-sm" id="totalFeePayable" name="totalFeePayable" type="number" readonly/>
              </div>  
              <div class="col-lg-3 col-12 mb-3">
                <label class="form-label" for="totalFeePaid">Total Fee Paid<span class="text-danger">*</span></label>
                <input class="form-control form-control-sm" id="totalFeePaid" name="totalFeePaid" type="number" readonly />
              </div> 
              <div class="col-lg-3 col-12 mb-3">
                <label class="form-label" for="totalModules">Total Modules<span class="text-danger">*</span></label>
                <input class="form-control form-control-sm" id="totalModules" name="totalModules" type="number" readonly />
              </div>  
              <div class="col-lg-3 col-12 mb-3">
                <label class="form-label text-truncate" for="creditsRemaining">Remaining Study Credits<span class="text-danger">*</span></label>
                <input class="form-control form-control-sm" id="creditsRemaining" name="creditsRemaining" type="number" readonly />
              </div>              
            </div>
        
            <div class="table-responsive">
              <table class="table table-sm table-bordered mt-3 bg-white dark__bg-1100">
                <thead>
                  <tr class="fs--1">
                    <th>Amount Paid</th>
                    <th class="text-center">Date</th>
                    <th class="text-center">Notes</th>
                    <th></th>
                  </tr>
                </thead>
                <tbody id="feePayableTable">
                  <!-- Dynamically add study stages here -->
                </tbody>
              </table>
            </div>
        
            <div class="text-end">
              <button class="btn btn-outline-primary btn-sm mt-2" type="button" id="addFeePayable" data-bs-toggle="modal" data-bs-target="#feepayable">
                <span class="fas fa-plus fs--2 me-1" data-fa-transform="up-1"></span>Add Payment
              </button>
            </div>
          </div>
        </div> 
        <!-- TWG Fee Payments Ends -->        

        <!-- Payable -->
        <div class="card mb-3" id="payableHistoryTable" data-list='{"valueNames":["student","stage","duedate","fees","amount","notes","status"],"page":10,"pagination":true}'>
          <div class="card-header">            
            <div class="row flex-between-center mb-3">
              <div class="col-6 col-md-auto d-flex align-items-center">
                <h5 class="mb-0 text-nowrap py-2 py-xl-0">Payable</h5>
              </div>
              <div class="col-6 col-md-auto order-md-last ms-auto text-end ps-0">
                <button class="btn btn-outline-danger btn-sm" type="button" id="payableNewPayment" data-bs-toggle="modal" data-bs-target="#newPaymentDetailsModal">New Payment</button>
                <button class="btn btn-outline-danger btn-sm" type="button" onclick="downloadPDF('payable', '#payable')"><span class="fas fa-file-pdf fs--2 me-1"></span>PDF</button>
                <button class="btn btn-outline-success btn-sm" type="button" onclick="downloadCommissions('payable', 'payableHistory')"><span class="fas fa-file-excel fs--2 me-1"></span>CSV</button>
              </div>
              <div class="col-12 col-md-5 mt-1 mt-md-0 ms-auto text-end">
                <form>
                  <div class="input-group">
                    <input class="form-control form-control-sm shadow-none search" type="search" placeholder="Search for a page" aria-label="search" />
                    <button class="btn btn-sm btn-outline-secondary border-300 hover-border-secondary"><span class="fa fa-search fs--1"></span></button>
                  </div>
                </form>
              </div>              
            </div>
          </div>
          <div class="card-body p-0">
            <div class="table-responsive scrollbar">
              <table class="table table-sm fs--1 mb-0 overflow-hidden" id="payable">
                <thead class="bg-200 text-900">
                  <tr>
                    <th class="sort pe-1 align-middle white-space-nowrap" data-sort="student">Student</th>
                    <th class="sort pe-1 align-middle white-space-nowrap" data-sort="stage">Study Stage</th>
                    <th class="sort pe-1 align-middle white-space-nowrap" data-sort="fees">Fees</th>
                    <th class="sort pe-1 align-middle white-space-nowrap" data-sort="amount">Amount</th>
                    <th class="sort pe-1 align-middle white-space-nowrap" data-sort="duedate">Due Date</th>
                    <th class="sort pe-1 align-middle" data-sort="notes">Notes</th>
                    <th class="sort pe-1 align-middle white-space-nowrap text-center" data-sort="status">Status</th>
                    <th class="no-sort pe-1 align-middle data-table-row-action"></th>
                  </tr>
                </thead>
                <tbody class="list" id="table-payable-body">
                  <tr class="text-center"><td colspan="9">Loading...</td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="card-footer">
            <div class="d-flex justify-content-center mt-3"><button class="btn btn-sm btn-falcon-default me-1" type="button" title="Previous" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="pagination mb-0"></ul><button class="btn btn-sm btn-falcon-default ms-1" type="button" title="Next" data-list-pagination="next"><span class="fas fa-chevron-right"> </span></button>
            </div>
          </div>
        </div>  
        
        <!-- Receivable -->
        <div class="card mb-3" id="receivableHistoryTable" data-list='{"valueNames":["student","stage","duedate","fees","amount","notes","status"],"page":50,"pagination":true}'>
          <div class="card-header">
            <div class="row flex-between-center mb-3">
              <div class="col-6 col-md-auto d-flex align-items-center">
                <h5 class="mb-0 text-nowrap py-2 py-xl-0">Receivable</h5>
              </div>
              <div class="col-6 col-md-auto order-md-last ms-auto text-end ps-0">
                <button class="btn btn-outline-danger btn-sm" type="button" id="receivableNewPayment" data-bs-toggle="modal" data-bs-target="#newPaymentDetailsModal">New Payment</button>
                <button class="btn btn-outline-danger btn-sm" type="button" onclick="downloadPDF('receivableHistory', '#receivable')"><span class="fas fa-file-pdf fs--2 me-1"></span>PDF</button>
                <button class="btn btn-outline-success btn-sm" type="button" onclick="downloadCommissions('receivable', 'receivableHistory')"><span class="fas fa-file-excel fs--2 me-1"></span>CSV</button>
              </div>
              <div class="col-12 col-md-5 mt-1 mt-md-0 ms-auto text-end">
                <form>
                  <div class="input-group">
                    <input class="form-control form-control-sm shadow-none search" type="search" placeholder="Search for a page" aria-label="search" />
                    <button class="btn btn-sm btn-outline-secondary border-300 hover-border-secondary"><span class="fa fa-search fs--1"></span></button>
                  </div>
                </form>
              </div>              
            </div>
          </div>
          <div class="card-body p-0">
            <div class="table-responsive scrollbar">
              <table class="table table-sm fs--1 mb-0 overflow-hidden" id="receivable">
                <thead class="bg-200 text-900">
                  <tr>
                    <th class="sort pe-1 align-middle white-space-nowrap" data-sort="student">Student</th>
                    <th class="sort pe-1 align-middle white-space-nowrap" data-sort="stage">Study Stage</th>
                    <th class="sort pe-1 align-middle white-space-nowrap" data-sort="fees">Fees</th>
                    <th class="sort pe-1 align-middle white-space-nowrap" data-sort="amount">Amount</th>
                    <th class="sort pe-1 align-middle white-space-nowrap" data-sort="duedate">Due Date</th>
                    <th class="sort pe-1 align-middle" data-sort="notes">Notes</th>
                    <th class="sort pe-1 align-middle white-space-nowrap text-center" data-sort="status">Status</th>
                    <th class="no-sort pe-1 align-middle data-table-row-action"></th>
                  </tr>
                </thead>
                <tbody class="list" id="table-receivable-body">
                  <tr class="text-center"><td colspan="9">Loading...</td></tr>
                </tbody>
              </table>
            </div>
          </div>
          <div class="card-footer">
            <div class="d-flex justify-content-center mt-3"><button class="btn btn-sm btn-falcon-default me-1" type="button" title="Previous" data-list-pagination="prev"><span class="fas fa-chevron-left"></span></button>
              <ul class="pagination mb-0"></ul><button class="btn btn-sm btn-falcon-default ms-1" type="button" title="Next" data-list-pagination="next"><span class="fas fa-chevron-right"> </span></button>
            </div>
          </div>
        </div>         
      </div>
    </div>
  </main>
  <!-- ===============================================-->
  <!--    End of Main Content-->
  <!-- ===============================================-->

  <!-- Preloader -->
  <div id="preloader" class="d-none">
    <div></div><div></div><div></div><div></div>
    <img src="./assets/img/logo.png" style="width: 25vh;margin-bottom: 15vh;">
  </div>

  <!-- Update Basic Details Modal -->
  <div class="modal fade" id="update-details-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 500px">
      <div class="modal-content position-relative">
        <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
          <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-0">
          <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
            <h5 class="mb-1 modal-title">Update Student Details</h5>
          </div>
          <div class="px-4">
            <form class="row" id="updateStudentForm">
              <div class="col-12 mb-3 d-none">
                <label class="form-label" for="studentId">Student Id<span class="text-danger">*</span></label>
                <input class="form-control" id="studentId" name="studentId" type="text" disabled />
              </div>
              <div class="col-12 mb-3">
                <label class="form-label" for="studentName">Student Name<span class="text-danger">*</span></label>
                <input class="form-control" id="studentName" name="studentName" type="text" placeholder="Student Name" required="required" />
              </div> 
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="universityStudentId">University Student Id<span class="text-danger">*</span></label>
                <input class="form-control" id="universityStudentId" name="universityStudentId" type="text" required="required" />
              </div>
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="enrollmentStatus">Student Enrollment Status<span class="text-danger">*</span></label>
                <select class="form-select" id="enrollmentStatus" name="enrollmentStatus" required>
                  <option value="Admitted">Admitted</option>
                  <option value="Enrolled">Enrolled</option>
                  <option value="Withdrawn">Withdrawn</option>
                </select>
              </div>
              <!-- Contact -->
              <div class="col-12 mb-3">
                <label class="form-label" for="studentEmail">Student Email<span class="text-danger">*</span></label>
                <input class="form-control" id="studentEmail" name="studentEmail" type="email" />
              </div>
              <div class="col-12 mb-3">
                <label class="form-label" for="studentPhone">Student Phone<span class="text-danger">*</span></label>
                <input class="form-control" id="studentPhone" name="studentPhone" type="text" />
              </div>
              <!-- Address -->
              <div class="col-12 mb-3">
                <label class="form-label" for="studentAddress">Student Address<span class="text-danger">*</span></label>
                <input class="form-control" id="studentAddress" name="studentAddress" type="email" />
              </div>
              <div class="col-6 mb-3">
                <label class="form-label" for="studentCity">Student City<span class="text-danger">*</span></label>
                <input class="form-control" id="studentCity" name="studentCity" type="text" />
              </div>
              <div class="col-6 mb-3">
                <label class="form-label" for="studentState">Student State<span class="text-danger">*</span></label>
                <input class="form-control" id="studentState" name="studentState" type="text" />
              </div>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-warning" id="updateBtn">Update</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Add Update Basic Details Ends -->  

  <!-- Update University Modal -->
  <div class="modal fade" id="update-university-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="mb-1 modal-title">Update University</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="updateUniversityForm">
            <div class="col-12 mb-3">
              <label class="form-label" for="program_type_select">Program Type<span class="text-danger">*</span></label>
              <select class="form-select" id="program_type_select" name="program_type_select" disabled></select>
            </div>
            <div class="col-12 mb-3">
              <label class="form-label" for="university_select">University<span class="text-danger">*</span></label>
              <select class="form-select" id="university_select" name="university_select" disabled></select>
            </div>
            <div class="col-12 mb-3">
              <label class="form-label" for="degree_select">Degree<span class="text-danger">*</span></label>
              <select class="form-select" id="degree_select" name="degree_select" disabled></select>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-warning" id="updateUniversityDetailsBtn">Update</button>
        </div>
      </div>
    </div>
  </div>
  <!-- End Update University Modal -->

  <!-- Update Agent Modal -->
  <div class="modal fade" id="update-agent-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="mb-1 modal-title">Update Agent</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="updateAgentForm">
            <div class="col-12 mb-3">
              <label class="form-label" for="agent_select">Agent<span class="text-danger">*</span></label>
              <select class="form-select" id="agent_select" name="agent_select"></select>
            </div>
          </form>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-warning" id="updateAgentDetailsBtn">Update</button>
        </div>
      </div>
    </div>
  </div>
  <!-- End Update Agent Modal -->  

  <!-- Flag Student Modal -->
  <div class="modal fade" id="flag-student-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 500px">
      <div class="modal-content position-relative">
        <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
          <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-0">
          <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
            <h5 class="mb-1 modal-title">Flag Student</h5>
          </div>
          <div class="p-4 pb-0">
            <form class="row" id="studentFlagForm">
              <input type="text" name="flaggerId" id="flaggerId" hidden />
              <div class="col-12 mb-3">
                <label class="form-label" for="flaggerName">Flagged By<span class="text-danger">*</span></label>
                <input class="form-control" id="flaggerName" name="flaggerName" type="text" readonly />
              </div>

              <div class="col-6 mb-3">
                <label class="form-label" for="flaggedFor">Flagged For<span class="text-danger">*</span></label>
                <select class="form-select" id="flaggedFor" name="flaggedFor" required>
                  <option value="Finance">Finance</option>
                  <option value="Agent">Agent</option>
                  <option value="Student-Support">Student Support</option>
                  <option value="Admin">Admin</option>
                </select>
              </div>

              <div class="col-6 mb-3">
                <label class="form-label" for="flaggedDate">Flagged Date<span class="text-danger">*</span></label>
                <input class="form-control datetimepicker" id="flaggedDate" type="text" name="flaggedDate" required>
              </div>

              <div class="col-12 mb-3">
                <label class="form-label" for="flagNotes">Flag Notes<span class="text-danger">*</span></label>
                <textarea class="form-control" id="flagNotes" rows="3" name="flagNotes" type="text" placeholder="Add flag notes" required="required"></textarea>
              </div>

              <div class="modal-footer">
                <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal" id="closeFlagModal">Cancel</button>
                <button class="btn btn-warning" type="submit" id="createFlagBtn">Create Flag</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </div>
  <!-- Flag Student Modal Ends -->

  <!-- Update Links Modal -->
  <div class="modal fade" id="student-links-modal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="mb-1 modal-title">Update Links</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <form id="studentsLinkForm">
            <div class="col-12 mb-3">
              <label class="form-label" for="twgModalLink">TWG Offer Letter<span class="text-danger">*</span></label>
              <input class="form-control" id="twgModalLink" name="twgModalLink" type="url" />
            </div>
            <div class="col-12 mb-3">
              <label class="form-label" for="universityModalLink">University Offer Letter<span class="text-danger">*</span></label>
              <input class="form-control" id="universityModalLink" name="universityModalLink" type="url" />
            </div>
            <div class="col-12 mb-3">
              <label class="form-label" for="gDriveModalLink">Google Drive Link<span class="text-danger">*</span></label>
              <input class="form-control" id="gDriveModalLink" name="gDriveModalLink" type="url" />
            </div>
            <div class="modal-footer">
              <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal" id="linksModalCloseBtn">Cancel</button>
              <button class="btn btn-warning" type="submit">Update</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
  <!-- End Links Modal -->


  <!-- Add Study Plan Modal -->
  <div class="modal fade" id="studyPlanModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document" style="max-width: 500px">
      <div class="modal-content position-relative">
        <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
          <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-0">
          <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
            <h5 class="mb-1 modal-title">Add/Update Study Stage </h5>
          </div>
          <div class="px-4 py-2">
            <form class="row" id="studyPlanForm">
              <input class="form-control" id="studyPlanId" name="studyPlanId" type="hidden" />
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="studyPlanStage">Study Stage<span class="text-danger">*</span></label>
                <select class="form-select" id="studyPlanStage" name="studyPlanStage">
                  <option>Loading Study Stages</option>
                </select>
              </div>
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="studyPlanDate">Date<span class="text-danger">*</span></label>
                <input class="form-control datetimepicker" id="studyPlanDate" name="studyPlanDate" type="text" placeholder="YYYY-MM-DD" data-options='{"disableMobile":true}'/>
              </div> 
              <div class="col-12 mb-3">
                <label class="form-label" for="studyPlanStatus">Status</label>
                <select class="form-select form-select-sm" id="studyPlanStatus" name="studyPlanStatus" required="required">
                  <option value="Not Started">Not Started</option>
                  <option value="Currently Enrolled">Currently Enrolled</option>
                  <option value="Completed">Completed</option>
                  <option value="Withdrawn">Withdrawn</option>
                </select>
              </div>
              <div class="col-12 mb-3">
                <label class="form-label" for="studyPlanNotes">Notes</label>
                <textarea class="form-control" id="studyPlanNotes" name="studyPlanNotes" placeholder="Notes/Comments" rows="2"></textarea>
              </div>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-primary" onclick="updateStudyPlan()">Add Study Stage</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Add Study Plan Ends -->  

  <!-- Add TWG Learning Plan Module -->
  <div class="modal fade" id="twgTermModuleModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document" style="max-width: 500px">
      <div class="modal-content position-relative">
        <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
          <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-0">
          <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
            <h5 class="mb-1 modal-title">Add/Update Module </h5>
          </div>
          <div class="px-4 py-2">
            <form class="row" id="updateTwgModuleForm">
              <input class="form-control" id="moduleId" name="moduleId" type="hidden" />
              <input type="hidden" name="termId" id="termId"/>
              <div class="col-12 mb-3">
                <label class="form-label" for="twgModuleName">Module Name<span class="text-danger">*</span></label>
                <select class="form-select" id="twgModuleName" name="twgModuleName">
                  <option>Loading Modules</option>
                </select>
              </div>
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="twgModuleResult">Result</label>
                <select class="form-select form-select-sm status" id="twgModuleResult" name="twgModuleResult">
                  <option selected></option>
                  <option value="pass">Pass</option>
                  <option value="fail">Fail</option>
                  <option value="withdrawn">Withdrawn</option>
                </select>
              </div>
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="twgModuleGrade">Grade</label>
                <input class="form-control" id="twgModuleGrade" name="twgModuleGrade" type="text"/>
              </div> 
              <div class="col-12 mb-3">
                <label class="form-label" for="twgModuleNotes">Notes</label>
                <textarea class="form-control" id="twgModuleNotes" name="twgModuleNotes" placeholder="Notes/Comments" rows="2"></textarea>
              </div>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-primary" onclick="updateModule()">Add Module</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Add TWG Learning Plan Module Ends --> 

  <!-- Add TWG Learning Plan Term -->
  <div class="modal fade" id="twgTermModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document" style="max-width: 600px">
      <div class="modal-content position-relative">
        <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
          <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-0">
          <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
            <h5 class="mb-1 modal-title">Add/Update Term </h5>
          </div>
          <div class="px-4 py-2">
            <div class="row" id="updateTwgTermForm">
              <div class="Term">
                <div class="row form-group">
                  <div class="col-lg-4 col-12 mb-3">
                    <label class="form-label" for="termName">Term Number<span class="text-danger">*</span></label>
                    <select class="form-select form-select-sm termName" id="termName" name="termName" required="required">
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                      <option value="5">5</option>
                      <option value="6">6</option>
                      <option value="7">7</option>
                      <option value="8">8</option>
                      <option value="9">9</option>
                      <option value="10">10</option>
                    </select>
                   <!-- <input class="form-control termName" name="termName" type="text" placeholder="Term X" required="required" /> -->
                  </div>
                  <div class="col-lg-4 col-12 mb-3">
                    <label class="form-label" for="startDate">Start Date<span class="text-danger">*</span></label>
                    <input class="form-control datetimepicker startDate" name="startDate" type="text" placeholder="YYYY-MM-DD" required="required" data-options='{"disableMobile":true}'/>
                  </div>
                  <div class="col-lg-4 col-12 mb-3">
                    <label class="form-label" for="numberOfModules">Module Count<span class="text-danger">*</span></label>
                    <input class="form-control numberOfModules" name="numberOfModules" type="number" required="required" />
                  </div>
                </div>
          
                <div class="table-responsive">
                  <table class="table table-bordered mt-3 bg-white dark__bg-1100">
                    <thead>
                      <tr class="fs--1">
                        <th>Module Name</th>
                        <th>Result</th>
                        <th>Grade</th>
                        <th>Notes</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody>
                    </tbody>
                  </table>
                </div>
          
              <div class="text-end">
                <button class="btn btn-falcon-default btn-sm mt-2" type="button" onclick="addModule(event)"><span class="fas fa-plus fs--2 me-1" data-fa-transform="up-1"></span>Add Module</button>
              </div>
              </div>
            </div>
            
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-primary" onclick="addTwgTerm()">Add Term</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Add TWG Learning Plan Term Ends --> 

  <!-- Edit TWG Term -->
  <div class="modal fade" id="twgTermEditModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document" style="max-width: 500px">
      <div class="modal-content position-relative">
        <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
          <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-0">
          <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
            <h5 class="mb-1 modal-title">Update Term </h5>
          </div>
          <div class="px-4 py-2">
            <form class="row" id="editTwgTermForm">
              <input type="hidden" name="termId" id="termId"/>
              <div class="col-6 mb-3">
                <label class="form-label" for="termName">Term Number<span class="text-danger">*</span></label>
                  <select class="form-select form-select-sm termName" id="termName" name="termName" required="required">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                    <option value="6">6</option>
                    <option value="7">7</option>
                    <option value="8">8</option>
                    <option value="9">9</option>
                    <option value="10">10</option>
                  </select>
              </div>
              <div class="col-lg-6 col-12 mb-3">
                <label class="form-label" for="startDate">Start Date<span class="text-danger">*</span></label>
                <input class="form-control datetimepicker startDate" id="startDate" name="startDate" type="text" placeholder="YYYY-MM-DD" required="required" data-options='{"disableMobile":true}' />
              </div>
              <div class="col-lg-6 col-12 mb-3">
                <label class="form-label" for="numberOfModules">Module Count<span class="text-danger">*</span></label>
                <input class="form-control numberOfModules" id="numberOfModules" name="numberOfModules" type="number" required="required" />
              </div>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-primary" onclick="editTwgTerm()">Edit Term</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Edit TWG Term  Ends --> 



  <!-- Add Fee Payable Modal -->
  <div class="modal fade" id="feepayable" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document" style="max-width: 500px">
      <div class="modal-content position-relative">
        <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
          <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-0">
          <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
            <h5 class="mb-1 modal-title">Add/Update Fee Payable </h5>
          </div>
          <div class="px-4 py-2">
            <form class="row" id="updateFeePayableForm">
              <input class="form-control" id="feePayableId" name="feePayableId" type="hidden" />
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="feePayableAmount">Amount<span class="text-danger">*</span></label>
                <input class="form-control" id="feePayableAmount" name="feePayableAmount" type="text" placeholder="1000" />
              </div>
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="feePayableDate">Date<span class="text-danger">*</span></label>
                <input class="form-control datetimepicker" id="feePayableDate" name="feePayableDate" type="text" placeholder="YYYY-MM-DD" data-options='{"disableMobile":true}'/>
              </div> 
              <div class="col-12 mb-3">
                <label class="form-label" for="feePayableNotes">Notes</label>
                <textarea class="form-control" id="feePayableNotes" name="feePayableNotes" placeholder="Notes/Comments" rows="2"></textarea>
              </div>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-primary" onclick="updateFeePayable()">Confirm Payment</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Add Fee Payable Ends -->    

  <!-- Add Payment status -->
  <div class="modal fade" id="newPaymentDetailsModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document" style="max-width: 550px">
      <div class="modal-content position-relative">
        <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
          <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-0">
          <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
            <h5 class="mb-1 modal-title" id="newPaymentDetailsModalHeader">New Payable</h5>
          </div>
          <div class="px-4 py-2">
            <form class="row" id="newPaymentDetailsForm">
              <div class="row">
                <div class="col-12 mt-2 mb-3">
                  <input type="hidden" id="newPayableCommisionType" name="newPayableCommisionType"/>
                  <label class="form-label" for="newPaymentstage">Next Study Stage<span class="text-danger">*</span></label>
                  <select class="form-select" id="newPaymentstage" name="newPaymentstage">
                    <option value="">Select stage</option>
                  </select>
                </div>
                <div class="col-4 mb-3">
                  <label class="form-label" for="fees">Fees Paid<span class="text-danger">*</span></label>
                  <input class="form-control" id="fees" name="fees" type="text" />
                </div>
                <div class="col-4 mb-3">
                  <label class="form-label" for="currency">Currency<span class="text-danger">*</span></label>
                  <select class="form-select" id="newPayment_fees_currency" name="feesCurrency">
                  </select>
                </div>
                <div class="col-4 mb-3 d-grid my-auto">
                  <button class="btn btn-secondary" id="computePayabaleCommission" type="button">Compute</button>
                </div>
                <div class="col-4 mb-3">
                  <label class="form-label" for="amount">Amount<span class="text-danger">*</span></label>
                  <input class="form-control" id="amount" name="amount" type="text" placeholder="1000" />
                </div>
                <div class="col-4 mb-3">
                  <label class="form-label" for="currency">Currency<span class="text-danger">*</span></label>
                  <select class="form-select" id="newPaymentcurrency" name="currency">
                  </select>
                </div>
                <div class="col-4 mb-3">
                  <label class="form-label" for="dueDate">Due Date<span class="text-danger">*</span></label>
                  <input class="form-control datetimepicker" id="dueDate" name="dueDate" type="text" placeholder="YYYY-MM-DD" data-options='{"disableMobile":true}'/>
                </div>                
            
                <div class="col-12 mb-3">
                  <label class="form-label" for="newStatus">Status<span class="text-danger">*</span></label>
                  <select class="form-select" id="newStatus" name="newStatus">
                    <option value="pending" selected>Pending</option>
                    <option value="confirmed">Confirmed</option>
                    <option value="invoiced">Invoiced</option>
                    <option value="paid">Paid</option>
                    <option value="na">Not Applicable</option>
                  </select>
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-primary" id="newPayable" onclick="newPayable()">Add Payable</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Payment status  Ends --> 

  <!-- Edit Details Modal -->
  <div class="modal fade" id="edit-details" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document" style="max-width: 550px">
      <div class="modal-content position-relative">
        <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
          <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-0">
          <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
            <h5 class="mb-1 modal-title">Edit Details </h5>
          </div>
          <div class="p-4 pb-0">
            <form class="row" id="updatePaymentDetailsForm">
              <input class="form-control" id="payment-id" name="payment-id" type="text" hidden />
              <input class="form-control" id="commissionType" name="commissionType" type="text" hidden />
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="student-name">Student Name<span class="text-danger">*</span></label>
                <input class="form-control" id="student-name" type="text" placeholder="student Name" disabled />
              </div>
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="stage">Study Stage<span class="text-danger">*</span></label>
                <input class="form-control" id="stage" type="text" disabled />
              </div>
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="fees">Fees<span class="text-danger">*</span></label>
                <input class="form-control" id="fees" type="text" disabled />
              </div>
              <div class="col-12 col-lg-6 mb-3">
                <label class="form-label" for="status">Status<span class="text-danger">*</span></label>
                <input class="form-control" id="status" type="text" placeholder="Pending" disabled/>
              </div>

              <div class="col-12 col-lg-4 mb-3">
                <label class="form-label" for="duedate">Due Date<span class="text-danger">*</span></label>
                <input class="form-control datetimepicker" id="duedate" name="dueDate" type="text" placeholder="DD-MM-YYYY" data-options='{"disableMobile":true}'/>
              </div>
              <div class="col-12 col-lg-4 mb-3">
                <label class="form-label" for="amount">Amount<span class="text-danger">*</span></label>
                <input class="form-control" id="amount" name="amount" type="text" placeholder="$1000" />
              </div>
              <div class="col-12 col-lg-4 mb-3">
                <label class="form-label" for="currency">Currency<span class="text-danger">*</span></label>
                <select class="form-select" id="pay_currency" name="currency">
                  <!-- Loaded from Js -->
                </select>
              </div> 

              <div class="col-12 mb-3">
                <label class="form-label" for="notes">Notes<span class="text-danger">*</span></label>
                <textarea class="form-control" id="notes" name="notes" placeholder="Notes/Comments" rows="2"></textarea>
              </div>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-warning" onclick="updateDetails()">Update</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Edit Details Ends -->

  <!-- Update Status Modal -->
  <div class="modal fade" id="update-status" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="modal-dialog modal-dialog-scrollable modal-dialog-centered" role="document" style="max-width: 550px">
      <div class="modal-content position-relative">
        <div class="position-absolute top-0 end-0 mt-2 me-2 z-index-1">
          <button class="btn-close btn btn-sm btn-circle d-flex flex-center transition-base" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body p-0">
          <div class="rounded-top-lg py-3 ps-4 pe-6 bg-light">
            <h5 class="mb-1 modal-title">Update Status </h5>
          </div>
          <div class="px-4 py-2">
            <form id="updateStatusForm">
              <input class="form-control" id="payment-id" name="payment-id" type="hidden" />
              <input class="form-control" id="commissionType" name="commissionType" type="text" hidden />
              <div class="col-12 mb-3">
                <label class="form-label">Status<span class="text-danger">*</span></label>
                <select class="form-select" id="status" name="status">
                  <option value="pending" selected>Pending</option>
                  <option value="confirmed">Confirmed</option>
                  <option value="invoiced">Invoiced</option>
                  <option value="paid">Paid</option>
                  <option value="na">Not Applicable</option>
                </select>
              </div>
              <div class="col-12 mb-3">
                <label class="form-label" for="notes">Notes</label>
                <textarea class="form-control" id="notes" name="notes" placeholder="Notes/Comments" rows="2"></textarea>
              </div>
              <div class="col-12 mb-3">
                <label class="form-label" for="morePayments">Are more Payments expected?<span class="text-danger">*</span></label>
                <select class="form-select" id="morePayments" name="morePayments">
                  <option value="0">No</option>
                  <option value="1">Yes</option>
                </select>
              </div>
              <div class="row d-none" id="nextPaymentDetails">
                <hr>
                <div class="col-12 mb-3">
                  <label class="form-label" for="stage">Next Study Stage<span class="text-danger">*</span></label>
                  <select class="form-select" id="stage" name="stage">
                    <option value="">Select stage</option>
                  </select>
                </div>
                <div class="col-4 mb-3">
                  <label class="form-label" for="fees">Fees Paid<span class="text-danger">*</span></label>
                  <input class="form-control" id="fees" name="fees" type="text" />
                </div>
                <div class="col-4 mb-3">
                  <label class="form-label" for="currency">Currency<span class="text-danger">*</span></label>
                  <select class="form-select" id="fees_currency" name="feesCurrency">
                  </select>
                </div>
                <div class="col-4 mb-3 d-grid my-auto">
                  <button class="btn btn-secondary" id="computeCommission" type="button">Compute</button>
                </div>

                <div class="col-4 mb-3">
                  <label class="form-label" for="amount">Amount<span class="text-danger">*</span></label>
                  <input class="form-control" id="amount" name="amount" type="text" placeholder="1000" />
                </div>
                <div class="col-4 mb-3">
                  <label class="form-label" for="currency">Currency<span class="text-danger">*</span></label>
                  <select class="form-select" id="currency" name="currency">
                  </select>
                </div>
                <div class="col-4 mb-3">
                  <label class="form-label" for="dueDate">Due Date<span class="text-danger">*</span></label>
                  <input class="form-control datetimepicker" id="dueDate" name="dueDate" type="text" placeholder="YYYY-MM-DD" data-options='{"disableMobile":true}'/>
                </div>                
  
                <div class="col-12 mb-3">
                  <label class="form-label" for="newStatus">Status<span class="text-danger">*</span></label>
                  <select class="form-select" id="newStatus" name="newStatus">
                    <option value="pending" selected>Pending</option>
                    <option value="confirmed">Confirmed</option>
                    <option value="invoiced">Invoiced</option>
                    <option value="paid">Paid</option>
                    <option value="na">Not Applicable</option>
                  </select>
                </div>
              </div>
            </form>
          </div>
        </div>
        <div class="modal-footer">
          <button class="btn btn-secondary me-2" type="button" data-bs-dismiss="modal">Cancel</button>
          <button class="btn btn-primary" onclick="updateStatus()">Confirm Updates</button>
        </div>
      </div>
    </div>
  </div>
  <!-- Update Status Ends -->    


  <!--    JavaScripts-->
  <script src="./vendors/popper/popper.min.js"></script>
  <script src="./vendors/bootstrap/bootstrap.min.js"></script>
  <script src="./vendors/anchorjs/anchor.min.js"></script>
  <script src="./vendors/is/is.min.js"></script>
  <script src="./vendors/chart/chart.min.js"></script>
  <script src="./vendors/countup/countUp.umd.js"></script>
  <script src="./vendors/echarts/echarts.min.js"></script>
  <script src="./vendors/dayjs/dayjs.min.js"></script>
  <script src="./assets/js/flatpickr.js"></script>
  <script src="./vendors/fontawesome/all.min.js"></script>
  <script src="./vendors/lodash/lodash.min.js"></script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
  <script src="./vendors/list.js/list.min.js"></script>
  <script src="./assets/js/theme.js"></script>
  <script src="./vendors/jspdf/index.js"></script>
  <script src="./vendors/jspdf/autotable.js"></script>

  <!-- Firebase -->
  <script src="./firebase/index.js" type="module"></script>
  <script src="./firebase/students.js" type="module"></script>
  <script src="./firebase/student_details.js" type="module"></script>
</body>

</html>